<!-- Message generation result display (structured, backward compatible) -->
<div class="space-y-2" id="message-result-container"
     data-action="{{ action or '' }}"
     data-reason="{{ reason or '' }}"
     data-generated="{{ 'true' if generated else 'false' }}">
    {% if action or reason %}
    <div class="flex items-start gap-2">
        {% if action %}
        <span class="inline-flex items-center px-2 py-0.5 rounded text-[10px] font-medium bg-indigo-100 text-indigo-700">
            {{ action }}
        </span>
        {% endif %}
        {% if reason %}
        <div class="text-xs text-gray-600 whitespace-pre-wrap flex-1">{{ reason }}</div>
        {% endif %}
    </div>
    {% endif %}

    <textarea id="message-text"
              name="generated_message"
              placeholder="{{ placeholder_message or '' }}"
              class="w-full h-32 p-2 border rounded-lg text-gray-800">{{ message or '' }}</textarea>
</div>
